{"version":3,"sources":["context/ThemeContext.js","hooks/useTheme.js","components/SearchBar.js","components/Navbar.js","firebase/config.js","assets/trashcan.svg","components/RecipeList.js","pages/home/Home.js","pages/create/Create.js","hooks/useFetch.js","pages/search/Search.js","pages/recipe/Recipe.js","assets/mode-icon.svg","components/ThemeSelector.js","App.js","index.js"],"names":["ThemeContext","createContext","themeReducer","state","action","type","color","payload","mode","ThemeProvider","children","useReducer","dispatch","Provider","value","changeColor","changeMode","useTheme","context","useContext","undefined","Error","SearchBar","useState","term","setTerm","history","useHistory","className","onSubmit","e","preventDefault","push","htmlFor","id","onChange","target","required","Navbar","style","background","to","firebaseConfig","apiKey","process","API_KEY","authDomain","AUTH_DOMAIN","projectId","PROJECT_ID","storageBucket","STORAGE_BUCKET","messagingSenderId","MESSAGING_SENDER_ID","appId","APP_ID","firebase","initializeApp","projectFirestore","firestore","RecipeList","recipes","length","map","recipe","title","cookingTime","method","substring","src","TrashCan","onClick","collection","doc","delete","alt","Home","data","setData","isPending","setIsPending","error","setError","useEffect","unsub","onSnapshot","snapshot","empty","results","docs","forEach","err","message","Create","setTitle","setMethod","setCookingTime","newIngredient","setNewIngredient","ingredients","setIngredients","ingredientInput","useRef","handleSubmit","a","add","console","log","ref","ing","trim","includes","toLocaleLowerCase","prevIngredients","current","focus","useFetch","url","options","setOptions","postData","headers","body","JSON","stringify","deleteData","controller","AbortController","fetchData","fetchOptions","fetch","signal","response","ok","statusText","json","jsonData","name","abort","Search","queryString","useLocation","search","query","URLSearchParams","get","Recipe","useParams","setRecipe","exists","setTimeout","ingredient","update","themeColors","ThemeSelector","modeIcon","filter","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fa9d35f6.chunk.js","sourcesContent":["import { createContext, useReducer } from 'react';\n\nexport const ThemeContext = createContext();\n\nconst themeReducer = (state, action) => {\n  switch(action.type){\n    case 'CHANGE_COLOR':\n      return { ...state, color: action.payload }\n    case 'CHANGE_MODE':\n      return { ...state, mode: action.payload }\n    default:\n      return state;\n  }\n}\n\nexport function ThemeProvider({ children }) {\n  const [state, dispatch] = useReducer(themeReducer, {\n    color: '#58249c',\n    mode: 'dark',\n  });\n\n  const changeColor = (color) => {\n    dispatch({ type: 'CHANGE_COLOR', payload: color })\n  }\n  const changeMode = (mode) => {\n    dispatch({ type: 'CHANGE_MODE', payload: mode })\n  }\n\n  return (\n    <ThemeContext.Provider value={{ ...state, changeColor, changeMode }}>\n      { children }\n    </ThemeContext.Provider>\n  )\n}","import { useContext } from 'react';\nimport { ThemeContext } from '../context/ThemeContext';\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n\n  if(context === undefined){\n    throw new Error(\"useTheme() must be used inside a ThemeProvider\");\n  }\n  \n  return context;\n}\n \nexport default useTheme;","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n//styles\nimport './SearchBar.css';\n\nconst SearchBar = () => {\n  const [term, setTerm] = useState('');\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    history.push(`/search/?q=${term}`);\n  }\n\n  return (\n    <div className='searchbar'>\n      <form onSubmit={handleSubmit}>\n        <label htmlFor=\"search\">Search:</label>\n        <input \n          type=\"text\"\n          id='search'\n          onChange={(e) => setTerm(e.target.value)}\n          required\n        />\n      </form>\n    </div>\n  );\n}\n \nexport default SearchBar;","import { Link } from 'react-router-dom';\nimport useTheme from '../hooks/useTheme';\n\n// components\nimport SearchBar from './SearchBar';\n\n//styles\nimport './Navbar.css'\n\nconst Navbar = () => {\n  const { color } = useTheme();\n\n  return (\n    <div className=\"navbar\" style={{ background: color }}>\n      <nav>\n        <Link to=\"/\" className='brand'>\n          <h1>Cooking Ninja</h1>\n        </Link>\n        <SearchBar />\n        <Link to=\"/create\">Create Recipe</Link>\n      </nav>\n    </div>\n  );\n}\n \nexport default Navbar;","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'dotenv/config';\n\nconst firebaseConfig = {\n  apiKey: process.env.API_KEY,\n  authDomain: process.env.AUTH_DOMAIN,\n  projectId: process.env.PROJECT_ID,\n  storageBucket: process.env.STORAGE_BUCKET,\n  messagingSenderId: process.env.MESSAGING_SENDER_ID,\n  appId: process.env.APP_ID\n};\n\n// init firebase\n\nfirebase.initializeApp(firebaseConfig);\n\n// init services\nconst projectFirestore = firebase.firestore();\n\nexport { projectFirestore };","export default __webpack_public_path__ + \"static/media/trashcan.1129c53a.svg\";","import { Link } from 'react-router-dom';\nimport useTheme from '../hooks/useTheme';\nimport TrashCan from '../assets/trashcan.svg'\nimport { projectFirestore } from '../firebase/config';\n\n\n//style\nimport './RecipeList.css';\n\nconst RecipeList = ({recipes}) => {\n  const { mode } = useTheme();\n  \n  if(recipes.length === 0){\n    return <div className='error'>No recipes found ...</div>\n  }\n\n  const handleClick = (id) => {\n    projectFirestore.collection('recipes').doc(id).delete();\n  }\n\n  return (\n    <div className='recipe-list'>\n      { recipes.map( (recipe) => (\n        <div key={recipe.id} className={`card ${mode}`}>\n          <h3>{recipe.title}</h3>\n          <p>{recipe.cookingTime} to make.</p>\n          <div>{recipe.method.substring(0,100)}...</div>\n          <Link to={`/recipes/${recipe.id}`}>Cook this</Link>\n          <img \n            className='delete'\n            src= {TrashCan}\n            onClick = { () => handleClick(recipe.id)}\n            alt='delete recipe'\n          />\n        </div>\n      ))}\n    </div>\n  );\n}\n \nexport default RecipeList;","import { projectFirestore } from '../../firebase/config';\nimport { useEffect, useState  } from 'react';\n\n//components\nimport RecipeList from '../../components/RecipeList';\n\n//styles\nimport './Home.css';\n\nconst Home = () => {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    setIsPending(true);\n\n    const unsub = projectFirestore.collection('recipes').onSnapshot((snapshot) =>{\n      if(snapshot.empty){\n        setError('No recipes to load');\n        setIsPending(false);\n      } else {\n        let results = [];\n        snapshot.docs.forEach(doc => {\n          results.push({ id: doc.id, ...doc.data()});\n        });\n\n        setData(results);\n        setIsPending(false);\n      }\n    }, (err) => {\n      setError(err.message);\n      setIsPending(false);\n    });\n\n    return () => unsub();\n\n  }, []);\n\n  return (\n    <div className='home'>\n      {error && <p className='error'>{ error }</p>}\n      {isPending && <p className='loading'>Loading ...</p>}\n      {data && <RecipeList recipes={data}/>}\n    </div>\n  );\n}\n \nexport default Home;","import { useState, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { projectFirestore } from '../../firebase/config';\n\n// styles\nimport './Create.css';\n\nconst Create = () => {\n  const [title, setTitle] = useState('');\n  const [method, setMethod] = useState('');\n  const [cookingTime, setCookingTime] = useState('');\n  const [newIngredient, setNewIngredient] = useState('');\n  const [ingredients, setIngredients] = useState([]);\n  const ingredientInput = useRef(null);\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const doc = {\n      title,\n      ingredients,\n      method,\n      cookingTime: `${cookingTime} minutes`\n    }\n\n    try {\n      await projectFirestore.collection('recipes').add(doc);\n      history.push('/');\n    } catch(err) {\n      console.log(err);\n    }\n  }\n\n  const handleAdd = (e) => {\n    e.preventDefault();\n    const ing = newIngredient.trim();\n    if(ing && !ingredients.includes(ing.toLocaleLowerCase())){\n      setIngredients(prevIngredients => [...prevIngredients, ing]);\n    }\n    setNewIngredient('');\n    ingredientInput.current.focus();\n  }\n\n  return (\n    <div className='create'>\n      <h2 className='page-title'>Add a new recipe</h2>\n\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Recipe title:</span>\n          <input \n            type=\"text\"\n            onChange={(e) => setTitle(e.target.value)}\n            value={title}\n            required\n          />\n        </label>\n\n        <label>\n          <span>Recipe ingredients</span>\n          <div className=\"ingredients\">\n            <input \n              type=\"text\"\n              onChange={(e) => setNewIngredient(e.target.value)}\n              value={newIngredient}\n              ref={ingredientInput}\n            />\n            <button onClick={handleAdd} className='btn'>add</button>\n          </div>\n        </label>\n        <p>Current ingredients: {ingredients.map( ing => <em key={ing}>{ing}, </em> )}</p>\n\n        <label>\n          <span>Recipe method:</span>\n          <textarea\n            onChange={(e) => setMethod(e.target.value)}\n            value={method}\n            required\n          />\n        </label>\n\n        <label>\n          <span>Cooking time (minutes)</span>\n          <input \n            type=\"number\"\n            onChange={(e) => setCookingTime(e.target.value)}\n            value={cookingTime}\n            required\n          />\n        </label>\n\n        <button className='btn'>submit</button>\n      </form>\n    </div>\n  );\n}\n \nexport default Create;","import { useState, useEffect } from 'react';\n\nconst useFetch = (url, method = 'GET') => {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState(null);\n  const [options, setOptions] = useState(null);\n\n  const postData = (postData) => {\n    setOptions({\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(postData)\n    })\n  }\n\n  const deleteData = () => {\n    setOptions({\n      method: 'DELETE',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: null\n    })\n  }\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    const fetchData = async (fetchOptions) => {\n      setIsPending(true);\n\n      try {\n        const response = await fetch( url, { ...fetchOptions, signal: controller.signal});\n        if(!response.ok){\n          throw new Error(response.statusText)\n        }\n        const jsonData = await response.json();\n\n        setIsPending(false);\n        setData(jsonData);\n        setError(null);\n\n      } catch (err) {\n        if(err.name === 'AbortError'){\n          console.log('the fetch was aborted')\n        } else {\n          setIsPending(false)\n          setError('Could not fetch the data');\n          console.log(err.message)\n        }\n      }\n    }\n\n    if(method === 'GET'){\n      fetchData();\n    }\n    if(method === 'POST' && options){\n      fetchData(options)\n    }\n    if(method === 'DELETE' && options){\n      fetchData(options)\n    }\n\n    return () => {\n      controller.abort();\n    }\n  }, [url, options, method]);\n\n  return { data, isPending, error, postData, deleteData };\n}\n \nexport default useFetch;","import { useLocation } from 'react-router-dom';\nimport useFetch from '../../hooks/useFetch';\n\n//components\nimport RecipeList from '../../components/RecipeList';\n\n//styles\nimport './Search.css';\n\nconst Search = () => {\n  const queryString = useLocation().search;\n  const queryParams = new URLSearchParams(queryString);\n  const query = queryParams.get('q');\n\n  const url = `http://localhost:3000/recipes?q=${query}`;\n  const {data, isPending, error } = useFetch(url);\n\n  return (\n    <div>\n      <h2 className='page-title'>Recipes including \"{query}\"</h2>\n      {error && <p className='error'>{error}</p>}\n      {isPending && <p className='loading'>Loading ....</p>}\n      {data && <RecipeList recipes={data}/>}\n    </div>\n  );\n}\n \nexport default Search;","import { useEffect, useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useTheme } from '../../hooks/useTheme';\nimport { projectFirestore } from '../../firebase/config';\n\n//styles\nimport './Recipe.css';\n\nconst Recipe = () => {\n  const { id } = useParams();\n  const { mode } = useTheme();\n  const [recipe, setRecipe] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const [error, setError] = useState(false);\n  const history = useHistory();\n\n  useEffect(() => {\n    setIsPending(true);\n\n    const unsub = projectFirestore.collection('recipes').doc(id).onSnapshot( (doc) => {\n      if(doc.exists){\n        setRecipe(doc.data())\n        setIsPending(false);\n      } else {\n        setIsPending(false);\n        setError('Could not find that recipe');\n        setTimeout( () => {\n          history.push('/');\n        },2000);\n      }\n    });\n\n    return () => unsub();\n  }, [id, history]);\n\n  const handleClick = () => {\n    projectFirestore.collection('recipes').doc(id).update({\n      title: 'Something completely different'\n    })\n  }\n\n  return (\n    <div className={`recipe ${mode}`}>\n      {error && <p className='error'>{ error }</p>}\n      {isPending && <p className='loading'>Loading ...</p>}\n      {recipe && \n        <>\n          <h2 className='page-title'>{recipe.title}</h2>\n          <p>Takes {recipe.cookingTime} to cook.</p>\n          <ul>\n            {recipe.ingredients.map( (ingredient) => <li key={ingredient}>{ingredient}</li> )}\n          </ul>\n          <p className='method'>{recipe.method}</p>\n          <button className='btn' onClick={handleClick}>Update me</button>\n        </>\n      }\n    </div>\n  );\n}\n \nexport default Recipe;","export default __webpack_public_path__ + \"static/media/mode-icon.651cf792.svg\";","import useTheme from '../hooks/useTheme';\nimport modeIcon from '../assets/mode-icon.svg'\n\n//styles\nimport './ThemeSelector.css';\n\nconst themeColors = ['#58249c', '#249c6b', '#b70233'];\n\nconst ThemeSelector = () => {\n  const { changeColor, changeMode, mode } = useTheme();\n\n  const toggleMode = () => {\n    changeMode( mode === 'dark' ? 'light' : 'dark');\n  }\n\n  return (\n    <div className='theme-selector'>\n      <div className='mode-toggle'>\n        <img \n          onClick={ toggleMode }\n          src={ modeIcon }\n          alt='dark / light toggle icon'\n          style = {{ filter: mode === 'dark' ? 'invert(100%)' : 'invert(20%)' }}\n        />\n      </div>\n      <div className=\"theme-buttons\">\n        { themeColors.map( (color) => (\n          <div \n            key={color}\n            onClick={() => changeColor(color)}\n            style={{ background: color }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n \nexport default ThemeSelector;","import {BrowserRouter, Switch, Route} from 'react-router-dom';\n\n// components\nimport Navbar from './components/Navbar';\n\n//pages\nimport Home from './pages/home/Home';\nimport Create from './pages/create/Create';\nimport Search from './pages/search/Search';\nimport Recipe from './pages/recipe/Recipe';\n\n//styles\nimport './App.css'\nimport ThemeSelector from './components/ThemeSelector';\nimport useTheme from './hooks/useTheme';\n\nfunction App() {\n  const { mode } = useTheme();\n\n  return (\n    <div className={`App ${mode}`}>\n      <BrowserRouter>\n        <Navbar />\n        <ThemeSelector />\n        <Switch>\n          <Route exact path='/'>\n            <Home />\n          </Route>\n          <Route path='/create'>\n            <Create/>\n          </Route>\n          <Route path=\"/search\">\n            <Search/>\n          </Route>\n          <Route path=\"/recipes/:id\">\n            <Recipe />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { ThemeProvider } from './context/ThemeContext';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}